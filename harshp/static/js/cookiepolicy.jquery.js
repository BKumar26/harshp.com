!function(e){var t={init:function(){for(var t in e.settings)if("message"!==t){var s=e.settings.message;e.settings.message=s.replace("%"+t+"%",e.settings[t])}},_setCookie:function(e,t,s){var o=new Date;o.setDate(o.getDate()+s);var n=escape(t)+(null===s?"":"; expires="+o.toUTCString());document.cookie=e+"="+n},_getCookie:function(e){var t,s,o,n=document.cookie.split(";");for(t=0;t<n.length;t++)if(s=n[t].substr(0,n[t].indexOf("=")),o=n[t].substr(n[t].indexOf("=")+1),s=s.replace(/^\s+|\s+$/g,""),s===e)return unescape(o);return null},_getMarkup:function(){return'<div class="cp-wrapper '+e.settings.extra_class+'"><div class="cp-inner"><p>'+e.settings.message+'</p><button class="cp-button cp-button-close" title="'+e.settings.close_button_title+'"><span>'+e.settings.close_button_text+"</span></button></div></div>"}};e.fn.cookiepolicy=function(s){e.settings=e.extend({message:"I use cookies to build a better site",extra_class:"",cookie_policy_url:"http://harshp.com/privacypolicy/",close_button_text:"Close",close_button_title:"Close this cookie policy message box",cookie_name:"hide_cookie_policy_message",cookie_expire_days:10,on_open:function(){},on_close:function(){},on_closed:function(){}},s);var o=this;t.init();var n=t._getCookie(e.settings.cookie_name);null===n?(o.prepend(t._getMarkup()),e.settings.on_open(),o.find(".cp-button-close").click(function(s){s.preventDefault(),o.find(".cp-wrapper").slideUp(),t._setCookie(e.settings.cookie_name,!0,e.settings.cookie_expire_days),e.settings.on_close()})):e.settings.on_closed()}}(jQuery);